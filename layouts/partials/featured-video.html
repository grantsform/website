<style>
.video-hover-container { position: relative; width: 100%; height: 100%; cursor: pointer; }
.video-hover-overlay { position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 2; background: linear-gradient(180deg, rgba(10,22,40,0.95), rgba(30,58,95,0.90)); transition: opacity 0.3s; opacity: 1; display: flex; align-items: center; justify-content: center; color: #e0f7fa; font-size: 1.5rem; letter-spacing: 0.05em; }
.video-hover-overlay .placeholder-text { background: rgba(33,150,243,0.3); color: #e0f7fa; padding: 0.35em 1.1em; border-radius: 0.6em; font-weight: bold; font-size: 1em; box-shadow: 0 2px 8px rgba(0,0,0,0.3); border: 1px solid rgba(77,208,225,0.3); }
.video-hover-overlay .play-icon { font-size: 3rem; color: #4dd0e1; margin-bottom: 0.5rem; }
.video-hover-container.loaded .video-hover-overlay { opacity: 0; pointer-events: none; }
.video-hover-iframe { width: 100%; height: 100%; border: 0; }
</style>

{{- if .Site.Params.featuredVideo }}
<section class="intro-video" style="margin:2.5rem 0 1rem 0; text-align:center; width:100%;">
  <h2 style="color:#ffd54f;margin-bottom:1.2rem;">{{ .Site.Params.featuredVideo.title | default "Intro Vid" }}</h2>
  <div style="display:flex;justify-content:center;width:100%;">
    <div style="position:relative;width:100%;aspect-ratio:16/9;background:linear-gradient(180deg, #0a1628, #1e3a5f);border-radius:12px;overflow:hidden;box-shadow:0 4px 24px rgba(0,0,0,0.4);margin:0 auto;border:1px solid rgba(33,150,243,0.3);">
      <div class="video-hover-container" data-video-url="{{ .Site.Params.featuredVideo.embedUrl }}">
        <div class="video-hover-overlay">
          <div style="text-align:center;">
            <div class="play-icon">â–¶</div>
            <span class="placeholder-text">{{ .Site.Params.featuredVideo.placeholder | default "Click to load video" }}</span>
          </div>
        </div>
        <div class="video-placeholder"></div>
      </div>
    </div>
  </div>
</section>

<script>
document.addEventListener('DOMContentLoaded', function() {
  const containers = document.querySelectorAll('.video-hover-container[data-video-url]');
  containers.forEach(function(container) {
    container.addEventListener('click', function() {
      if (container.classList.contains('loaded')) return;
      const url = container.dataset.videoUrl;
      const title = container.closest('.intro-video').querySelector('h2').textContent;
      const iframe = document.createElement('iframe');
      iframe.className = 'video-hover-iframe';
      iframe.src = url + (url.includes('?') ? '&' : '?') + 'autoplay=1';
      iframe.title = title;
      iframe.setAttribute('frameborder', '0');
      iframe.setAttribute('allow', 'autoplay; encrypted-media');
      iframe.setAttribute('allowfullscreen', 'true');
      container.querySelector('.video-placeholder').replaceWith(iframe);
      container.classList.add('loaded');
    });
  });
});
</script>
{{- end }}
